---
import { getLocale } from 'astro-i18n-aut';
import { loadTranslations, t, getLocalizedHashLink } from '../utils/i18n';
import type { Locale } from '../i18n/types';

const locale = getLocale(Astro.url) as Locale;
const translations = await loadTranslations(locale);
const base = import.meta.env.BASE_URL;
---

<section class="pt-32 pb-20 px-4 sm:px-6 lg:px-8 hero-section" style={`--header-bg-url: url('${base}images/header.png')`}>
	<div class="max-w-7xl mx-auto relative z-10">
		<div class="text-center">
			<h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight" style="color: var(--text-primary);">
				{t('aboutBinauralBeats.heroTitle', locale, translations)}
			</h1>
			<p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto leading-relaxed" style="color: var(--text-secondary);">
				{t('aboutBinauralBeats.heroSubtitle', locale, translations)}
			</p>
			<div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
				<a 
					href={getLocalizedHashLink('#download', locale, base)}
					class="text-white px-8 py-4 rounded-lg text-lg font-semibold transition-all transform hover:scale-105 shadow-lg hover:shadow-xl bg-bhutan-accent hover:opacity-90"
				>
					{t('hero.ctaDownload', locale, translations)}
				</a>
				<a 
					href={getLocalizedHashLink('#features', locale, base)}
					class="px-8 py-4 rounded-lg text-lg font-semibold border-2 transition-all bg-bhutan-primary hover:bg-bhutan-secondary text-bhutan-accent"
					style="border-color: var(--primary);"
				>
					{t('hero.ctaLearnMore', locale, translations)}
				</a>
			</div>
			<p class="mt-6 text-sm" style="color: var(--text-secondary);">
				{t('hero.tagline', locale, translations)}
			</p>
		</div>
	</div>
</section>

<style>
	.hero-section {
		position: relative;
	}

	/* Light theme: use header image as background */
	@media (prefers-color-scheme: light) {
		.hero-section {
			background-image: var(--header-bg-url);
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			position: relative;
		}

		.hero-section::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: linear-gradient(to bottom right, rgba(255, 107, 53, 0.1), rgba(255, 255, 255, 0.85), rgba(34, 197, 94, 0.1));
			z-index: 0;
		}
	}

	/* Dark theme: use gradient background */
	@media (prefers-color-scheme: dark) {
		.hero-section {
			background: linear-gradient(to bottom right, rgba(255, 107, 53, 0.1), var(--bg-primary), rgba(34, 197, 94, 0.1));
		}
	}
</style>
