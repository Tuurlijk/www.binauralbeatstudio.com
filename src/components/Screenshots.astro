---
import { getLocale } from 'astro-i18n-aut';
import { loadTranslations, t } from '../utils/i18n';
import type { Locale } from '../i18n/types';

// Import phone screenshots
import phoneSessionBrowserLight from '../assets/images/phone_session_browser_light.png';
import phoneSessionBrowserDark from '../assets/images/phone_session_browser_dark.png';
import phoneSessionEditorLight from '../assets/images/phone_session_editor_light.png';
import phoneSessionEditorDark from '../assets/images/phone_session_editor_dark.png';
import phoneAddTrackDialogLight from '../assets/images/phone_add_track_dialog_light.png';
import phoneAddTrackDialogDark from '../assets/images/phone_add_track_dialog_dark.png';
import phoneMainLight from '../assets/images/phone_main_light.png';
import phoneMainDark from '../assets/images/phone_main_dark.png';
import phonePointEditorLight from '../assets/images/phone_point_editor_light.png';
import phonePointEditorDark from '../assets/images/phone_point_editor_dark.png';
import phoneQrDisplayLight from '../assets/images/phone_qr_display_light.png';
import phoneQrDisplayDark from '../assets/images/phone_qr_display_dark.png';

const locale = getLocale(Astro.url) as Locale;
const translations = await loadTranslations(locale);
---

<section id="screenshots" class="py-20 px-4 sm:px-6 lg:px-8" style="background: linear-gradient(to bottom right, rgba(255, 107, 53, 0.1), var(--bg-primary), rgba(34, 197, 94, 0.1));">
	<div class="max-w-7xl mx-auto">
		<div class="text-center mb-16">
			<h2 class="text-4xl md:text-5xl font-bold mb-4 text-bhutan-primary">
				{t('screenshots.title', locale, translations)}
			</h2>
			<p class="text-xl max-w-3xl mx-auto text-bhutan-secondary">
				{t('screenshots.subtitle', locale, translations)}
			</p>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
			<!-- Screenshot 1: Session Browser -->
			<div class="bg-bhutan-secondary rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow">
				<picture>
					<source srcset={phoneSessionBrowserDark.src} media="(prefers-color-scheme: dark)" />
					<source srcset={phoneSessionBrowserLight.src} media="(prefers-color-scheme: light)" />
					<img 
						src={phoneSessionBrowserLight.src}
						alt="Session Browser showing list of binaural beats sessions"
						class="rounded-lg w-full aspect-[1080/2340] object-cover"
						loading="lazy"
					/>
				</picture>
				<p class="text-center mt-4 font-medium text-bhutan-primary">{t('screenshots.sessionBrowser', locale, translations)}</p>
			</div>

			<!-- Screenshot 2: Session Editor -->
			<div class="bg-bhutan-secondary rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow">
				<picture>
					<source srcset={phoneSessionEditorDark.src} media="(prefers-color-scheme: dark)" />
					<source srcset={phoneSessionEditorLight.src} media="(prefers-color-scheme: light)" />
					<img 
						src={phoneSessionEditorLight.src}
						alt="Session Editor for creating and editing binaural beats sessions"
						class="rounded-lg w-full aspect-[1080/2340] object-cover"
						loading="lazy"
					/>
				</picture>
				<p class="text-center mt-4 font-medium text-bhutan-primary">{t('screenshots.sessionEditor', locale, translations)}</p>
			</div>

			<!-- Screenshot 3: Track Type Picker -->
			<div class="bg-bhutan-secondary rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow">
				<picture>
					<source srcset={phoneAddTrackDialogDark.src} media="(prefers-color-scheme: dark)" />
					<source srcset={phoneAddTrackDialogLight.src} media="(prefers-color-scheme: light)" />
					<img 
						src={phoneAddTrackDialogLight.src}
						alt="Track Type Picker for selecting audio track types"
						class="rounded-lg w-full aspect-[1080/2340] object-cover"
						loading="lazy"
					/>
				</picture>
				<p class="text-center mt-4 font-medium text-bhutan-primary">{t('screenshots.trackTypePicker', locale, translations)}</p>
			</div>

			<!-- Screenshot 4: Main Player -->
			<div class="bg-bhutan-secondary rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow">
				<picture>
					<source srcset={phoneMainDark.src} media="(prefers-color-scheme: dark)" />
					<source srcset={phoneMainLight.src} media="(prefers-color-scheme: light)" />
					<img 
						src={phoneMainLight.src}
						alt="Main player screen for playing binaural beats sessions"
						class="rounded-lg w-full aspect-[1080/2340] object-cover"
						loading="lazy"
					/>
				</picture>
				<p class="text-center mt-4 font-medium text-bhutan-primary">{t('screenshots.mainPlayer', locale, translations)}</p>
			</div>

			<!-- Screenshot 5: Point Editor -->
			<div class="bg-bhutan-secondary rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow">
				<picture>
					<source srcset={phonePointEditorDark.src} media="(prefers-color-scheme: dark)" />
					<source srcset={phonePointEditorLight.src} media="(prefers-color-scheme: light)" />
					<img 
						src={phonePointEditorLight.src}
						alt="Point Editor for adjusting volume and timing"
						class="rounded-lg w-full aspect-[1080/2340] object-cover"
						loading="lazy"
					/>
				</picture>
				<p class="text-center mt-4 font-medium text-bhutan-primary">{t('screenshots.pointEditor', locale, translations)}</p>
			</div>

			<!-- Screenshot 6: QR Code Display -->
			<div class="bg-bhutan-secondary rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow">
				<picture>
					<source srcset={phoneQrDisplayDark.src} media="(prefers-color-scheme: dark)" />
					<source srcset={phoneQrDisplayLight.src} media="(prefers-color-scheme: light)" />
					<img 
						src={phoneQrDisplayLight.src}
						alt="QR Code display for sharing binaural beats sessions"
						class="rounded-lg w-full aspect-[1080/2340] object-cover"
						loading="lazy"
					/>
				</picture>
				<p class="text-center mt-4 font-medium text-bhutan-primary">{t('screenshots.qrSharing', locale, translations)}</p>
			</div>
		</div>
	</div>
</section>
